
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Certificados</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../ShowerTemplate/shower/themes/ribbon/styles/styles.css">
    <style>
        .shower {
            --slide-ratio: calc(16 / 9);
        }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
</head>
<body class="shower list">
    <header class="caption">
        <h1>Certificados</h1>
        <p>Mikel Egaña Aranguren</p>
    </header>

    <section class="slide" id="cover">
        <h2>Certificados</h2>
        <p>Mikel Egaña Aranguren</p>
        <p><a href="https://mikel-egana-aranguren.github.io/">mikel-egana-aranguren.github.io</a></p>
        <p><a href="mailto:mikel.egana@ehu.eus">mikel.egana@ehu.eus</a></p>
        <img src="../ShowerTemplate/pictures/ehu.png" alt="UPV/EHU ingenieros San Mames" height="25%" border="1px solid #555">
    </section>

    <section class="slide">
        <h2>Certificados</h2>
        <p><a href="https://doi.org/10.5281/zenodo.4302267">https://doi.org/10.5281/zenodo.4302267</a></p>
        <p><a href="https://github.com/mikel-egana-aranguren/EHU-SGSSI-01">https://github.com/mikel-egana-aranguren/EHU-SGSSI-01</a></p>
        <img src="../ShowerTemplate/pictures/by.png" alt="Creative Commons BY" height="10%">
    </section>

    <section class="slide">
        <h2>Public Key Infraestructure (PKI)</h2>
            <ul>
                <li>Infraestructura que permite enlazar entidades/personas con sus claves publicas</li>
                <li>Web of Trust: PKI sin autoridad central, cualquiera puede certificar</li>
                <li>Certificados: PKI con autoridad central, solo los CA pueden certificar</li>
            </ul>
    </section>

    <section class="slide">
        <h2>Autoridad de Certificación</h2>
            <ul>
                <li>Una entidad certifica que el usuario es quien dice ser Depende de la confianza en la AC que lo certifica</li>
                <li>Almacena las claves pùblicas por nosotros</li>
            </ul>
    </section>



    <section class="slide">
        <h2>Certificados digitales</h2>
            <ul>
                <li>La entidad emite un certificado digital</li>
                <li>En un certificado digital el CA firma mediante su clave privada la clave pública de un usuario/otra entidad</li>
            </ul>
    </section>

    <section class="slide">
        <h2>Agencia de Registro</h2>
            <ul>
                <li>Independiente de AC</li>
                <li>Comprobar la idnetida del usuario antes de emitir el certificado</li>
                <li>Agencias tributarias, seguridad social, zuzenean, ...</li>
            </ul>
    </section>

    <section class="slide">
        <h2>Certificados digitales: X.509</h2>
            <ul>
                <li>Estándar <a href="https://www.itu.int/rec/T-REC-X.509">X.509</a> de International Telecommunication Union (ITU)</li>
                <li>Contiene una identidad (Persona, entidad, ...) y una clave publica
                </li>
                <li>Firmado por un CA - el poseedor de la clave publica puede
                    <ul>
                        <li>Firmar con su clave privada</li>
                        <li>Establecer comunicaciones seguras (SSL, HTTPS, ...)</li>
                    </ul>
                </li>
                <li>el CA debe mantener una base de datos de nombres distinguidos (ND) y de CAs subordinadas</li>
            </ul>
    </section>

    <section class="slide">
        <h2>Certificados digitales: X.509</h2>
            <ul>
                <li>Cadena de confianza (Certification path validation algorithm)</li>
                <li>Certificate Revocation List (CRL)</li>
            </ul>
    </section>

    <section class="slide">
        <h2>Cadena de confianza</h2>
        <p><img  style="border: 1px solid #555;"  src="pictures-sgssi-01/Chain_Of_Trust.svg" alt="Cadena de confianza: Root firmado por si mismo!" width="60%"></p>
        <p style="text-align:left;font-size:30%;"><a href="https://upload.wikimedia.org/wikipedia/commons/0/02/Chain_Of_Trust.svg">https://upload.wikimedia.org/wikipedia/commons/0/02/Chain_Of_Trust.svg</a></p>
    </section>

    <section class="slide">
        <h2>Certificate Revocation List (CRL)</h2>
        <p>Una lista publica de certificados revocados</p>
        <p>Reovocar: AC declara que ese certificado no es confiable</p>
        <p>Definido en <a href="https://www.rfc-editor.org/rfc/rfc5280#section-5.3.1">RFC 5280</a></p>
        <p>Posibles <a href="https://www.rfc-editor.org/rfc/rfc5280#section-5.3.1">razones para revocación</a>: unspecified, keyCompromise, cACompromise, affiliationChanged, superseded, cessationOfOperation, certificateHold, removeFromCRL, privilegeWithdrawn, aACompromise</p>
    </section>

    <section class="slide">
        <h2>OCSP (Online Certificate Status Protocol)</h2>
            <ul>
                <li><a href="https://www.rfc-editor.org/rfc/rfc2560">RFC 2560</a></li>
                <li>Permite validar el estado de un certificado digital de manera online</li>
                <li>Es más eficiente que la verificación mediante CRLs: CRLs en desuso</li>
                <li>Ventaja: su actualización constante</li>
                <li>Desventaja: necesidad de conexión para la comprobación</li>
            </ul>
        
    </section>


    <section class="slide">
        <h2>OCSP (Online Certificate Status Protocol)</h2>
        <ul>
            <li>Cada AC que proporciona el servicio mantiene un servidor OCSP</li>
            <li>Este servicio responde a las aplicaciones cliente que remitan una petición estandarizada y sepan interpretar la respuesta</li>
        </ul>
    </section>

    <section class="slide">
        <h2>OCSP (Online Certificate Status Protocol)</h2>
        <ul>
            <li>Cada AC que proporciona el servicio mantiene un servidor OCSP</li>
            <li>Este servicio responde a las aplicaciones cliente que remitan una petición estandarizada y sepan interpretar la respuesta</li>
        </ul>
    </section>

    <section class="slide">
        <h2>OCSP: Replay attack</h2>
        <ul>
            <li>El atacante retiene un certificado valido hasta despues de su revocacion, y entonces lo envia al cliente</li>
            <li>Solucion: uso de nonce</li>
        </ul>
    </section>

    <section class="slide">
        <h2>OCSP: uso de nonce</h2>
        <p><img  style="border: 1px solid #555;"  src="pictures-sgssi-01/Nonce-cnonce-uml.svg" alt="Uso de nonce" width="60%"></p>
        <p style="text-align:left;font-size:30%;"><a href="https://commons.wikimedia.org/wiki/File:Nonce-cnonce-uml.svg">https://commons.wikimedia.org/wiki/File:Nonce-cnonce-uml.svg</a></p>
    </section>

    <section class="slide">
        <h2>Estructura de un certificado</h2>
        <pre><code>Certificate
            Version Number
            Serial Number
            Signature Algorithm ID
            Issuer Name
            Validity period
            Subject name
            Subject Public Key Info
                Public Key Algorithm
                Subject Public Key
            ...
            Certificate Signature Algorithm
            Certificate Signature;
        </code></pre>
    </section>

    <section class="slide">
        <h2>Estructura de un certificado</h2>
        <p>Distinguished Name</p>
        C: country
        SP: state or province
        Locality: L 
        Organization: O 
        Organizational Unit: OU 
        Common Name: CN 
    </section>

    <section class="slide">
        <h2>Estructura de un certificado</h2>
        <p><a href="https://www.izenpe.com/">IZENPE</a></p>
        <p><a href="https://www.euskadi.eus/web01-sede/es/contenidos/informacion/cas_izenpe/es_cas/index.shtml">Descarga de certificados izenpe</a></p>
        <p>https://www.izenpe.com/certification-practice-statement/webize01-cndocjuridica/es/ Politica de certificacion: Certification practice statemtne</p>
    </section>

    <section class="slide">
        <h2>Estructura de un certificado</h2>
        <p><img  style="border: 1px solid #555;"  src="pictures-sgssi-01/izenpe.png" alt="Certificado Izenpe" width="60%"></p>
    </section>

    <section class="slide">
        <h2>Certificado raíz</h2>
        <p>Subject Name == Issuer Name</p>
        <p>Esta firmado por sí mismo: es el origen de la confianza (Nos fiamos de la entidad)</p>
    </section>

    <section class="slide">
        <h2>Jerarquía de certificación (RFC 1422)</h2>
        <p>Internet Policy Registration Authority (IPRA) >> Policy Certification Authorities (PCA) >> Certification Authorities (CA): Verisign, Thawte, GeoTrust, RapidSSL, DigiCertSSL</p>
    </section>

    
    <section class="slide">
        <h2>Tipos de certificados Certificados digitales</h2>
            <ul>
                <li>Certificado de usuario (persona juridica) final</li>
                <li>Certificado de firma de software</li>
                <li>Certificado de servidor SSL</li>
            </ul>
    </section>

    <section class="slide">
        <h2>Implementacion</h2>
            <ul>
                <li>los sistemas operativos y navegadores incluyen root certificates, asumiendo confianza de facto (el usuario confie en el software)</li>
                <li>Firefox OCSP query responder, Izenpe</li>

            </ul>
    </section>

    <section class="slide">
        <h2>Estructura de un certificado</h2>
        <p><img  style="border: 1px solid #555;"  src="pictures-sgssi-01/firefox.png" alt="Firefox" width="60%"></p>
    </section>


    <section class="slide">
        <h2>Certificados digitales</h2>
        <p>Con un certificado digital conseguimos:
            <ul>
                <li>Confidencialidad al poder encriptar la información</li>
                <li>Integridad al poder realizar hash de la información y poder firmarla</li>
                <li>Autenticidad al venir firmada la información</li>
                <li>No repudio al firmar la información</li>
            </ul>
        </p>
    </section>
    
    
    
    <!-- FOOTER -->

    <footer class="badge">
        <a href="https://github.com/mikel-egana-aranguren/EHU-SGSSI-01">Fork me on GitHub</a>
    </footer>

    <div class="progress"></div>

    <script src="../ShowerTemplate/shower/shower.js"></script>
    <!-- Copyright © 3000 Yours Truly, Famous Inc. -->

</body>
</html>
