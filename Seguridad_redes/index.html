<!DOCTYPE html>
<html lang="en">
<head>
    <title>Seguridad en redes</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../ShowerTemplate/shower/themes/ribbon/styles/styles.css">
    <style>
        .shower {
            --slide-ratio: calc(16 / 9);
        }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
</head>
<body class="shower list">
    <header class="caption">
        <h1>Seguridad en redes</h1>
        <p>Mikel Egaña Aranguren</p>
    </header>

    <section class="slide" id="cover">
        <h2>Seguridad en redes</h2>
        <p>Mikel Egaña Aranguren</p>
        <p><a href="https://mikel-egana-aranguren.github.io/">mikel-egana-aranguren.github.io</a></p>
        <p><a href="mailto:mikel.egana@ehu.eus">mikel.egana@ehu.eus</a></p>
        <img src="../ShowerTemplate/pictures/ehu.png" alt="UPV/EHU ingenieros San Mames" height="25%" border="1px solid #555">
    </section>

    <section class="slide">
        <h2>Seguridad en redes</h2>
        <p><a href="https://doi.org/10.5281/zenodo.4302267">https://doi.org/10.5281/zenodo.4302267</a></p>
        <p><a href="https://github.com/mikel-egana-aranguren/EHU-SGSSI-01">https://github.com/mikel-egana-aranguren/EHU-SGSSI-01</a></p>
        <img src="../ShowerTemplate/pictures/by.png" alt="Creative Commons BY" height="10%">
    </section>

    <section class="slide">
        <h2>Conexión a internet</h2>
        <p><b>Confidencialidad</b> e <b>integridad</b> de la información mediante protocolos criptográficos</p>
        <p>Sistema autenticación para usuarios</p>
        <p>Control de accesos</p>
        <p>Supervisión de la utilización de servicios</p>
    </section>

    <section class="slide">
        <h2>Conexión a internet</h2>
        <p>Garantizar la <b>disponibilidad</b> de la red y los servicios</p>
        <p>Controlar los accesos a los equipos</p>
        <p>Evitar los intentos de intrusión</p>
    </section>

    <section class="slide">
        <h2>Defensa Perimetral</h2>
        <p>Crear una barrera entre la red interna y el exterior</p>
        <p>Canalizar todo el tráfico por un punto monitorizado y protegido</p>
        <p>Permitir solo algunas conexiones</p>
        <p>Normas menos restrictivas en la red interna</p>
    </section>

    <section class="slide">
        <h2>Proxy</h2>
        <p>Servidor que actua de intermediario</p>
        <p>El cliente hace las peticiones al proxy que se encarga de gestionarlas y enviarlas a los servidores remotos</p>
        <p>Proporciona mayor seguridad durante la navegación porque el servidor desconoce quién se ha conectado realmente</p>
        <p>Aísla a los clientes del mundo exterior</p>
    </section>

    <section class="slide">
        <h2>Proxy</h2>
        <p>El servidor hace una traducción de direcciones mediante el protocolo <a href="https://en.wikipedia.org/wiki/Network_address_translation">NAT (Network Address Translation)</a>, convirtiendo las IPs internas de los equipos en una única IP externa.</p>
        <p>Se decide qué servicios de internet se podrán utilizar y por quién</p>
        <p>Bloquear acceso a determinadas IPs y dominios de internet</p>
    </section>

    <section class="slide">
        <h2>Proxy</h2>
        <p>Crear caches para acelerar la navegación</p>
        <p>Auditoria de uso de servicios y anchoi de banda por parte de usuarios</p>
        <p>Antivirus perimetral</p>
    </section>

    <section class="slide">
        <h2>Proxy inverso</h2>
        <p>Acceso controlado desde el exterior a servidores de la empresa, por ejemplo servidores web</p>
        <p>Balanceo de carga</p>
    </section>


    <section class="slide">
        <h2>Firewall</h2>
        <p>Elemento de red (Hardware o software) que filtra paquetes segun una política definida previamente por el administrador, teniendo en cuenta la fuente y el destino</p>
        <p>La diferencia con el proxy es que se pueden establecer conexiones directas (autorizadas) con máquinas exteriores</p>
    </section>

    <section class="slide">
        <h2>Firewall</h2>
        <p>Bloqueo del tráfico no autorizado: servicios de internet, determinadasa direcciones, etc.</p>
        <p>Ocultación de los equipos internos de la organización ante posibles ataques. Ocultar información sobre la topología de la red interna</p>
        <p>Registro de todo el tráfico entrante y saliente</p>
        <p>Redirección del tráfico entrante hacia DMZ (DeMilitarized Zone)</p>
    </section>

    <section class="slide">
        <h2>Firewall</h2>
        <p>Limitación de ancho de banda utilizado por tipo de tráfico o protocolo</p>
        <p>Cifrado extremo a extremo apra crear tuneles seguros</p>
        <p>Estadísticas sobre ancho de banda usado por distintos servicios</p>
        <p>Monitorización de ataques o intentos de intrusión</p>
    </section>

    <section class="slide">
        <h2>DMZ</h2>
        <p>Zona entre la intranet y la Internet donde se ubican los servicios públicos (correo, ftp, etc.) que quedan más expuestos a los problemas de seguridad</p>
        <p>Se crea mediante el uso de uno o dos cortafuegos que limita el acceso entre las distintas redes</p>
        <p>Desde la zona desmilitarizada no se puede acceder directamente a la intranet</p>
    </section>

    <section class="slide">
        <h2>DMZ</h2>
        <p><img  style="border: 1px solid #555;"  src="pictures-sgssi-01/FIREWAL-DMZ.png" alt="DMZ" width="90%"></p>
    </section>

    <section class="slide">
        <h2>Access Control List (ACL)</h2>
        <p>Reglas de filtrado</p>
        <p>Teniendo en cuenta: IP origen y destino de los paquetes de datos, protocolo, servicio (puerto)</p>
    </section>

    <section class="slide">
        <h2>Access Control List</h2>
        <p><img  style="border: 1px solid #555;"  src="pictures-sgssi-01/tabla-firewall.png" alt="Access Control List" width="70%"></p>
    </section>


    <section class="slide">
        <h2>Tipos de firewall</h2>
        <p>A nivel de paquetes de datos: filtrado de paquetes por origen/destino, puertos etc</p>
        <p>Dinámicos: además de paqueste de datos, tienen en cuenta la información sobre estados de sesion (Flags) (Statefull packet inspection).</p>
        <p>Pasarelas de aplicacion: tienen en cuenta las reglas del protocolo y la sesion, no solo los datos de los paquetes individuales. Menos eficientes, centrados en protocolos como HTTP, SMTP, FTP, ect</p>
    </section>


    <section class="slide">
        <h2>Firewall</h2>

        Dos filosofías distintas de uso:
        <ul>
            <li><b>Política restrictiva (lista blanca)</b>: se deniega todo menos lo que se acepta explícitamente</li>
            <li>Política permisiva (lista negra): se acepta todo menos lo que se deniega explícitamente</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Firewall: reglas filtrado generales</h2>
        <p>Bloquear paquetes que incluyan dirección de difusion (Broadcast) por ataques DoS</p>
        <p>Bloquear paquetes de entrada con direccion fuente correspondiente a direcciones internas por suplantación de identidad (Spoofing)</p>
        <p>Bloquear todos los paquetes de entrada con direcciones privadas referenciadas en <a href="https://www.rfc-editor.org/rfc/rfc1918">RFC 1918 (Address Allocation for Private Internets)</a></p>
        <p>Bloquear los paquetes de entrada con direcciones fuente 127.0.0.1</p>
    </section>

    <section class="slide">
        <h2>Firewall: reglas filtrado generales</h2>
        <p>Bloquear los paquetes del protocolo de control, ICMP que en respuestas a peticiones Ping o Traceroute pueden dar informacion sobre la topologia de la red interna</p>
        <p>Bloquear los paquetes ICMP Redirect que permiten modificar las tabals de enrutamiento de los routers</p>
        <p>Bloquear todos los paquetes con un tamaño inferior al mínimo permitido o con valores invalidso en la cabecera</p>
        <p></p>
    </section>

    <section class="slide">
        <h2>Firewall: puertos a bloquear</h2>
        <p>Conexion remota: Telnet (23), SSH (22), FTP (21)</p>
        <p>Protocolo NetBIOS en windows</p>
        <p>RPC y servicio NFS en Redes UNIX</p>
        <p>HTTP,  SSL, SMTP, POP, IMAP, DNS, LDAP en máquinas que no actuan como servidores</p>
    </section>

    <section class="slide">
        <h2>Firewall: limitaciones</h2>
        <p>Ataques basados en ingenieria social</p>
        <p>Ataques fisicos: USB</p>
        <p>Ataques a nivel de protocolo, ej. HTTP</p>
        <p>Virus introducidos por portatiles que se han infectado en el exterior</p>
    </section>


    <section class="slide">
        <h2>Firewall: kerberos?</h2>
    </section>

    <section class="slide">
        <h2>Análisis de logs: Common Log Format</h2>
        <p>
            <pre>
                <code>127.0.0.1 user-identifier frank [10/Oct/2000:13:55:36 -0700] "GET /apache_pb.gif HTTP/1.0" 200 2326</code>
            </pre>
        </p>
        <ul>
            <li>IP cliente</li>
            <li>Identificacion cliente</li>
            <li>Nombre autenticacion usuario</li>
            <li>Fecha/hora conexion</li>
            <li>Peticion cliente</li>
            <li>Estado HTTP devuelto</li>
            <li>Bytes enviados</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Intrusion Prevention System (IPS)</h2>
        <p>Sistemas encargados de detectar y reaccionar de forma automatizada ante los incidentes de seguridad en redes</p>
        Fuente de eventos de la red o sistema
        BBDD de compoartamientos normales 
        Motor de analisis: analiza la fuente de eventos basandose en la BBDD
        Modulo de respuesta: alarmas e informes
    </section>

    <section class="slide">
        <h2>Intrusion Prevention System (IPS)</h2>
        <p>Respuestas pasivas: registrar las posibles intrusiones, generar informes</p>
        <p>Respuestas activas:
            Anular las conexiones TCP inyectando paquetes de reinicio en la conexiones
            Reconfigurtar cortafuegos para filtrar trafico anomalo
            Desconexion automatica de servidores
            Bloqueo de cuentas / privilegios
            Localizacion de origen de ataque y notificacion a os ISP
        </p>
    </section>

    <section class="slide">
        <h2>HIDS Host IDS</h2>
        Intrusiones en un host, en un sistema concreto
        Analisis de losgs del kernel
        Verificacion de la integridad de los ejecutabels
        Auditoria periodica de permissos asignados a los recursos
        Revision detallada del proceso de instalacion de nuevas aplciaciones
    </section>

    <section class="slide">
        <h2>Network IDS</h2>
        Monitorizan el trafico de red para buscar actividad sospechosa
    </section>


    <section class="slide">
        <h2>Intrusion Prevention System (IPS)</h2>
        https://www.snort.org/
    </section>



    

<!-- 


    <section class="slide">
        <h2>Riesgos y protección de las redes</h2>
        <p>Autenticación de entidades: garantiza que una entidad comunicante es quien dice ser</p>
        <p>Confidencialidad de datos: Proporciona protección de los datos para evitar que sean revelados accidental o deliberadamente a un usuario no autorizado</p>
    </section>

    <section class="slide">
        <h2>Riesgos y protección de las redes</h2>
        <p>Integridad de datos: Permite al receptor de la información comprobar que la información recibida es exactamente la enviada por el emisor y conocer si esta ha sido modificada</p>
        <p>Control de acceso: Evita el uso de los servicios/información por personas no autorizadas</p>
    </section>

    <section class="slide">
        <h2>Riesgos y protección de las redes</h2>
        No repudio:<br>
        <ul>
            <li>Con prueba de origen: El receptor de la información puede probar quién es el emisor</li>
            <li>Con prueba de envío: El receptor/emisor dispone de una prueba de la fecha y hora del envío</li>
            <li>Con prueba de entrega: El emisor puede probar que la información ha sido recibida por el receptor</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Ejemplo de no repudio</h2>
        Sistema de cifrado de whatsapp<br>
        Doble click al recibir, en azul leído<br>
        No podemos negar haberlo enviado<br>
        No pueden negar que lo han recibido<br>
    </section>

    <section class="slide">
        <h2>Riesgos y protección de las redes</h2>
        Disponibilidad: Asegura que la información/recursos van a estar disponibles (van a poder ser accedidos/consultados/usados) cuando sea necesario<br>
    </section>

    <section class="slide">
        <h2>Riesgos y protección de las redes</h2>
        Anonimato: Oculta la identidad de la persona que usa un determinado servicio<br><br>
        Imprescindible en algunos servicios: encuestas, voto electronico, algunas transacciones economicas
    </section>

    <section class="slide">
        <h2>Ataques más comunes</h2>
        Sobre autenticación: interceptación, suplantación<br>
        Sobre información: revelación, reenvio, manipulación, repudio<br>
        Sobre servicios: denegación, apropiación<br>
    </section>






    <section class="slide">
        <h2>Ejemplo de arquitectura sin seguridad</h2>
        No se filtra el tráfico<br>
        Publicación de servicios internos (BD)<br>
        No se verifica malware o SPAM<br>
        Cliente remoto accede directamente a los servicios<br>
    </section>

    <section class="slide">
        <h2>Ejemplo de arquitectura sin seguridad</h2>
        <p><img  style="border: 1px solid #555;"  src="pictures-sgssi-01/arquitectura-sin-seguridad.png" alt="Arquitectura sin seguridad" width="50%"></p>
    </section>




    <section class="slide">
        <h2>Sistemas de Detección y Prevención de Intrusos (IDS/IPS)</h2>
        Detecta accesos no autorizados / usos indebidos en la red o en una máquina<br>
        Los IDS avisan al administrador (reactivos)<br>
        Los IPS los bloquean para que no tengan efecto (proactivos)<br>

    </section>

    <section class="slide">
        <h2>Tipos IDS/IPS</h2>
        HIDPS (Host IDPS): se instala en la máquina y detecta cambios en el sistema operativo y en las aplicaciones<br>
        NIDPS (Network IDPS): monitoriza el tráfico de la red local<br>
        WIDPS (Wi-Fi IDPS): monitoriza el tráfico inalámbrico<br>
        NBA (Network Behaviour Analysis): examina el comportamiento del tráfico de la red<br>
    </section>

    <section class="slide">
        <h2>Funcionamiento de un IDS/IPS</h2>
        Heurística: analiza comportamientos "extraños" y cuando los detecta da la alarma<br><br>
        Firmas: detecta patrones de ataques conocidos (Problema ante ataques nuevos)
    </section>

    <section class="slide">
        <h2>IDS/IPS</h2>
        <p><img  style="border: 1px solid #555;"  src="pictures-sgssi-01/ips-ids.png" alt="IPS DPS" width="70%"></p>
    </section>

    <section class="slide">
        <h2>Pasarelas antivirus y antispam</h2>
        <p>Analizan el tráfico y filtran los contenidos maliciosos hacia la red interna</p>
        <p><img  style="border: 1px solid #555;"  src="pictures-sgssi-01/pasarela.png" alt="Pasarela" width="70%"></p>
    </section>

    <section class="slide">
        <h2>Redes Virtuales Privadas (VPN)</h2>
        Red que usa una infraestructura no segura (Internet) para acceder de manera segura a una red interna<br><br>
        Usadas para la conexión remota a la red interna<br><br>
        <a href="https://www.ehu.eus/es/web/ikt-tic/vpn">VPN EHU</a>

    </section>

    <section class="slide">
        <h2>Redes Virtuales Privadas (VPN)</h2>
        Permite:<br>
        <ul>
            <li>Autenticación y autorización mediante la gestión de usuarios, roles y permisos</li>
            <li>Integridad con el uso de funciones hash</li>
            <li>Confidencialidad puesto que la información viaja cifrada mediante algún algoritmo de encriptación</li>
            <li>No repudio porque los datos se transmiten firmados</li>
        </ul>
    </section>


    <section class="slide">
        <h2>Gestión Unificada de Amenazas (UTM)</h2>
        Dispositivo que aúna múltiples aspectos relacionados con la seguridad de las comunicaciones:
        <ul>
            <li>Cortafuegos</li>
            <li>IDS / IPS</li>
            <li>Pasarela antimalware/antispam</li>
            <li>VPN</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Honeypots</h2>

        Sistema configurado para recibir ataques y estudiar nuevas técnicas<br><br>
        También se usan para recoger muestras de virus y spam<br><br>
        Deben estar especialmente controlados y ajenos a cualquier red interna<br><br>

    </section>

    <section class="slide">
        <h2>Honeypots</h2>

        <iframe width="560" height="315" src="https://www.youtube.com/embed/FihkG72z7MQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

    </section>

    <section class="slide">
        <h2>Ejemplo arquitectura con seguridad</h2>
        <p><img  style="border: 1px solid #555;"  src="pictures-sgssi-01/EjemploArquitecturaSeguridad.png" alt="Ejemplo Arquitectura Seguridad" width="70%"></p>


    </section>

    <section class="slide">
        <h2>Ejemplo arquitectura con seguridad</h2>
        Instalación de cortafuegos:
        <ul>
            <li>DMZ y Red Interna</li>
            <li>Política restrictiva</li>
        </ul>
        Instalación de antispam y antivirus<br>
        Instalación de NIDS en las tres interfaces<br>
    </section>

    <section class="slide">
        <h2>Ejemplo arquitectura con seguridad</h2>
        Segmentación:
        <ul>
            <li>Público: Web, pasarela antispam/antivirus</li>
            <li>Privado: Base de datos, servidor de correo</li>
        </ul>
        Los clientes remotos usan VPN<br>
    </section>

    <section class="slide">
        <h2>Ataques más comunes</h2>
        Sniffing: Interceptación de la información que viaja por la red <br><br>
        Man in the middle: No sólo se intercepta la información, también se puede insertar y modificar a voluntad 
    </section>

    <section class="slide">
        <h2>Ataques más comunes</h2>
        Hijacking: Robo de conexiones a un usuario autentificado en el sistema <br><br>
        <ul>
            <li>IP Hijacking</li>
            <li>Session hijacking</li>
            <li>DNS Hijacking</li>
            <li>...</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Ataques más comunes</h2>
        Spoofing (Suplantación) <br><br>
        <ul>
            <li>IP Spoofing</li>
            <li>MAC Spoofing</li>
            <li>DNS Spoofing</li>
            <li>...</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Ataques más comunes</h2>
        Denegación de Servicio (DoS): Se "satura" el hardware o software hasta que deja de responder <br><br>
        Ataque Distribuido de Denegación de Servicio (DDoS):
        <ul>
            <li>Se realiza desde varias máquinas</li>
            <li>Una de ellas ejerce de master y coordina a las demás</li>
        </ul>
        <a href="https://therecord.media/gitlab-servers-are-being-exploited-in-ddos-attacks-in-excess-of-1-tbps/">GitLab servers are being exploited in DDoS attacks in excess of 1 Tbps</a>
    </section> -->

    <!-- FOOTER -->

    <footer class="badge">
        <a href="https://github.com/mikel-egana-aranguren/EHU-SGSSI-01">Fork me on GitHub</a>
    </footer>

    <div class="progress"></div>

    <script src="../ShowerTemplate/shower/shower.js"></script>
    <!-- Copyright © 3000 Yours Truly, Famous Inc. -->

</body>
</html>
