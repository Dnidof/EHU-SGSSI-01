
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Malware</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../ShowerTemplate/shower/themes/ribbon/styles/styles.css">
    <style>
        .shower {
            --slide-ratio: calc(16 / 9);
        }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
</head>
<body class="shower list">
    <header class="caption">
        <h1>Malware</h1>
        <p>Mikel Egaña Aranguren</p>
    </header>

    <section class="slide" id="cover">
        <h2>Malware</h2>
        <p>Mikel Egaña Aranguren</p>
        <p><a href="https://mikel-egana-aranguren.github.io/">mikel-egana-aranguren.github.io</a></p>
        <p><a href="mailto:mikel.egana@ehu.eus">mikel.egana@ehu.eus</a></p>
        <img src="../ShowerTemplate/pictures/ehu.png" alt="UPV/EHU ingenieros San Mames" height="25%" border="1px solid #555">
    </section>

    <section class="slide">
        <h2>Malware</h2>
        <p><a href="https://doi.org/10.5281/zenodo.4302267">https://doi.org/10.5281/zenodo.4302267</a></p>
        <p><a href="https://github.com/mikel-egana-aranguren/EHU-SGSSI-01">https://github.com/mikel-egana-aranguren/EHU-SGSSI-01</a></p>
        <img src="../ShowerTemplate/pictures/by.png" alt="Creative Commons BY" height="10%">
    </section>

    <section class="slide">
        <h2>Indice</h2>
        <ul>
            <li>Definiciones</li>
            <li>Tipos de malware</li>
            <li>Nomenclatura de malware</li>
            <li>Estadísticas sobre malware 2019</li>
            <li>Malware en dispositivos móviles</li>
            <li>Fases de un virus</li>
            <li>Técnicas antivirus</li>
            <li>Defensa contra el malware</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Definiciones</h2>
        Malware: un programa que provoca daños y pérdidas a otros programas o a un usuario <br>
        Tipos de malware clásicos: Virus, gusanos, troyanos, bombas lógicas, etc.<br>
        Tipos de malware de nueva aparición: Spyware, backdoors, keyloggers, rootkits, exploits, etc. <br>
    </section>

    <section class="slide">
        <h2>Definiciones</h2>
        Los tipos de malware no siempre están perfectamente diferenciados <br>
        Se suelen usar palabras genéricas (virus, troyano, etc.) sin prestar atención a sus características<br>
    </section>

    <section class="slide">
        <h2>Virus</h2>
        Programa informático con capacidad de modificar ficheros, borrar datos, duplicarse y diseminarse<br>
        Por ejemplo Chernobyl (Existen más de 30 variantes):
        <ul>
            <li>Creado en 1998 en Taiwan</li>
            <li>Infecta archivos ejecutables en sistemas Windos 9x</li>
            <li>Residente en memoria, se activa en una fecha determinada</li>
            <li>Sobreescribe documentos, formatea el MBR (Master Boot Record)</li>
            <li>Flashea la BIOS dejando el PC inservible</li>
        </ul>

    </section>

    <section class="slide">
        <h2>Gusanos</h2>
        Programa informático cuyo principal objetivo es la reproducción<br>
        La principal diferencia con los virus es que no infecta otros ficheros<br>
        Por ejemplo Netsky: 
        <ul>
            <li>Se propaga por redes de correo o P2P. Una vez infectado un ordenador, se autodistribuye a todos los contactos que encuentre</li>
            <li>Falsifica la dirección del remitente</li>
            <li>Hay que ejecutar el fichero para infectarse</li>
        </ul>

    </section>

    <section class="slide">
        <h2>Gusanos</h2>
        I love U (2000)<br>
        Se recibía un correo con una "carta de amor" adjunta<br>
        La carta era una macro vbs que al abrirla reenviaba el gusano a todos los contactos<br>
        Instalaba un virus que borraba ficheros y ocultaba otros<br>
        <a href="https://www.elmundo.es/elmundo/2010/05/04/navegante/1272975231.html">Infectó a 50 millones de máquinas en una semana</a>
    </section>

    <section class="slide">
        <h2>Gusanos</h2>
        Sasser (2004) <br>
        Se aprovecha de un agujero de seguridad de algunas versiones de Windows (XP entre ellas)<br>        
        No necesita interacción por parte del usuario para infectarse <br>
        Crea un servidor FTP para que otras máquinas se conecten y se infecten <br>
        Provoca reinicios no deseados <br>
    </section>

    <section class="slide">
        <h2>Gusanos</h2>
        WannaCry (2017)<br>
        Se aprovecha de una vulnerabilidad de Windows para la que Microsoft había lanzado el parche de seguridad meses antes<br>
        Puede llegar al equipo en un fichero engañoso<br>
        Una vez ejecutado se propaga por toda la red<br>
        Cifra los contenidos del PC y exige un rescate para descrifrarlos (<b>Ransomware</b>)<br>

    </section>

    <section class="slide">
        <h2>Troyanos</h2>
        Aplicación en apariencia inofensiva, pero que realmente tiene una funcionalidad oculta (El caballo de Troya) <br>
        No infecta otros ficheros, ni se reproduce o disemina <br>
    </section>

    <section class="slide">
        <h2>Troyanos</h2>
        AIDS: En 1989, se distribuyen 10.000 copias de un programa de información sobre el SIDA <br>
        En las condiciones de uso se advertía de que romper la licencia tendría graves consecuencias para el ordenador <br>
        Al alcanzar un número determinado de ejecuciones, cifraba el contenido del disco duro <br>
        Para obtener la clave había que pagar (Ransomware)
    </section>

    <section class="slide">
        <h2>Bombas lógicas</h2>
        Aplicación latente en el ordenador hasta que se produce una circunstancia que la activa <br>
    </section>

    <section class="slide">
        <h2>Bombas lógicas</h2>
        Viernes 13 (también conocido como Jerusalem)<br>
        Infecta los ficheros .com y .exe <br>
        Cuando llega un viernes 13, borra todos los ficheros infectados <br>
        Conmemora la creación del estado de Israel un viernes 13 <br>
    </section>

    <section class="slide">
        <h2>Backdoors</h2>
        Puerta trasera, permite acceso y control remoto del sistema sin una autentificación legítima<br>
    </section>

    <section class="slide">
        <h2>Backdoors</h2>
        Backdoor BackOrifice<br>
        Consta de aplicación cliente y aplicación servidor <br>
        Al instalar la aplicación servidor, se obtiene control total sobre el ordenador <br>
        Lectura y escritura de archivos, ejecutar aplicaciones, reiniciar el sistema, visualizar la pantalla, manejar el ratón y teclado de la víctima, robar contraseñas, etc. <br>
    </section>

    <section class="slide">
        <h2>Más tipos de malware</h2>
        Spyware: Recolecta y envía información privada sin el consentimiento y/o conocimiento del usuario <br><br>
        Keylogger: Captura las teclas pulsadas por el usuario, permitiendo obtener datos sensibles como contraseñas <br><br>
        Adware: Muestra anuncios o abre páginas webs no solicitadas <br><br>


    </section>

    <section class="slide">
        <h2>Más tipos de malware</h2>
        Coinminer: Usa la potencia del equipo para minar criptomonedas sin conocimiento del usuario <br>

    </section>

    <section class="slide">
        <h2>Tipos de malware</h2>
        Actualmente el malware no suele pertenecer a una única categoría, si no que presenta aspectos de varias <br>
        Por ejemplo Emotet (Ataque en 2019): <br>
        <ul>
            <li>Virus polimórfico</li>
            <li>Gusano que se distribuye por correo electrónico</li>
            <li>Incluye función keylogger</li>
            <li>Troyano que roba credenciales bancarias</li>
        </ul>
    </section>


    <section class="slide">
        <h2>Tipos de malware</h2>
        Se suelen catalogar por su característica principal <br>
        Por ejemplo Lamin.B es un virtus con una puerta trasera: 
        <ul>
            <li>Virus polimórfico que infecta ejecutables de Windows</li>
            <li>Gusano que se distribuye por redes locales</li>
            <li>Incluye función keylogger</li>
            <li>Backdoor que permite control remoto de la máquina</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Tipos de malware</h2>
        Zeus <br> 
        <ul>
            <li>Troyano que genera una botnet (Red de ordenadores infectados y controlados por alguien ajeno)
            </li>
            <li>Controla los accesos a entidades bancarias</li>
            <li>Clona las webs y envía los datos al controlador</li>
            <li>Precursor de muchos de los troyanos financieros actuales</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Tipos de malware</h2>
        SpyEye <br> 
        <ul>
            <li>Evolución de Zeus
            </li>
            <li>Plataforma “de pago” para el robo de datos bancarios</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Nomenclatura de malware</h2>
        Como convención (No olbigatoria) sigue la siguiente estructura: Prefijo + Nombre + Variante + Sufijo (Establecida por <a href="http://www.caro.org/index.html">Computer Antivirus Research Organization</a>) <br>
        Por ejemplo <b>W32/Klez.H@MM</b><br>
        <ul>
            <li>Prefijo <b>W32</b>: Afecta a sistemas Windows de 32 bits</li>
            <li>Nombre <b>Klez</b>: Nombre para identificarlo</li>
            <li>Variante <b>H</b>: Existen otras 7 anteriores (a,b,c,d, ...)</li>
            <li>Sufijo <b>@MM</b>: Gusano de propagación masiva por correo electrónico</li>
        </ul>

    </section>

    <section class="slide">
        <h2>Nomenclatura de malware</h2>
        Los pefijos más comunes:
        <ul>
            <li>W32: Windows 32bit </li>
            <li>W95: Windows 9X/Me</li>
            <li>WM: Virus de macro de Word</li>
            <li>XM: Virus de macro de Excel</li>
            <li>Worm: Gusano</li>
            <li>Troj: Troyano</li>
            <li>Bck: backdoor</li>
            <li>VBS: Programado en Visual Basic Script</li>
            <li>JS: Programado en Java Script</li>
            <li>Joke: Broma</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Malware en dispositivos móviles</h2>
        ¿Por qué se ataca más a Android?<br>
        Mayor cantidad de objetivos posibles<br>
        Código abierto (más fácil buscar fallos)<br>
        Personalización del SO de cada compañía (posibilidad de nuevas vulnerabilidades)<br>
        Menor control en  Google Play<br>
    </section>

    <section class="slide">
        <h2>Malware en dispositivos móviles</h2>
        ¿Cómo evitarlo?<br>
        Instalar aplicaciones "conocidas"<br>
        Evitar aplicaciones fuera de la tienda oficial<br>
        Revisar los permisos y denegar los que no les corresponden<br>
        MMantener el SO actualizado (cuando sea posible)<br>
        Instalar una aplicación antimalware<br>
    </section>

    <section class="slide">
        <h2>Fases de un virus</h2>
        1.- Llegada al sistema (siempre desde el exterior), introducido voluntaria o involuntariamente <br>
        2.- Instalación (Infección): Se produce al ejecutar el código del virus por primera vez <br>

    </section>

    <section class="slide">
        <h2>Instalación de un virus</h2>

        <b>Añadidura</b>: El código del virus se añade al final del archivo a infectar. El tamaño del archivo infectado crece <br><br>

        <b>Inserción</b>: El código del virus se reparte en huecos "libres" dentro del código del archivo infectado. El tamaño del archivo infectado no varía. Su creación no es trivial

        <b>Reorientación</b>: En el archivo a infectar se instala sólo una pequeña parte del código del virus. El resto está distribuido por el sistema. Al ejecutarse el virus se recompone y cumple su función

        <b>Sustitución</b>: El virus sustituye directamente el código del archivo a infectar

    </section>

    <section class="slide">
        <h2>Fases de un virus</h2>
        3.- Activación y control del sistema: <br>
        <ul>
            <li>Acción directa: Se ejecuta el virus cada vez que se ejecute el fichero infectado</li>
            <li>Acción indirecta: el virus está residente en memoria y se ejecuta de manera regular</li>
        </ul>
        4.- Ocultamiento: A los ojos del usuario y del antivirus

    </section>

    <section class="slide">
        <h2>Ocultación de un virus</h2>
        <b>Dispersión</b>: el virus se divide y oculta sus partes<br>
        <ul>
            <li>Marca los ficheros como ocultos</li>
            <li>Se almacena en sectores libres del disco y los marca como defectuosos</li>
            <li>Se almacena en formatos que el sistema operativo no es capaz de leer</li>
        </ul>
        <b>Compresión</b>: el virus comprime el programa infectado y se instala en el sitio que queda libre para no modificar su tamaño
        <b>Camuflaje</b>: el virus engaña al sistema operativo y al antivirus cuando comprueban los atributos de los ficheros (tamaño, fecha de modificación, etc.)

    </section>

    <section class="slide">
        <h2>Ocultación de un virus</h2>
        <b>Sobrepasamiento</b>: El virus actúa directamente sobre las rutinas de los servicios del sistema, engañando al antivirus que comprueba los servicios del sistema
        <b>Autocifrado</b>: El virus se encripta y desencripta según lo necesite usando una clave distinta en cada ocasión. De este modo, el antivirus no puede acceder al contenido del virus y detectarlo
        <b>Polimorfismo</b>: El virus cambia de forma (e incluso de comportamiento) cada vez que se propaga
        <b>Blindaje</b>: Evita que el virus pueda ser desensamblado y por lo tanto se pueda acceder a su código
    </section>

    <section class="slide">
        <h2>Fases de un virus</h2>
        5.- Reproducción: Crear copias del virus en otros ficheros <br>
        <ul>
            <li>Búsqueda de uno o varios huéspedes</li>
            <li>Comprobación de que los huéspedes no han sido previamente infectados</li>
            <li>Recomposición del virus</li>
            <li>Copia en el programa huésped</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Fases de un virus</h2>
        6.- Manifestación: el virus lleva a cabo sus acciones, pueden ser más o menos dañinas:<br><br>
        ... desde "jugar" con la interfaz (Virus Cascade)<br><br>
        ... hasta estropear hardware (Chernobyl)<br><br>
        ... o usar criptografía asimétrica para cifrar contenidos (Criptovirología)<br><br>
    </section>

    <section class="slide">
        <h2>Técnicas antivirus</h2>
        <b>Detección por cadena o firma</b>: Se analiza el código del virus buscando una cadena representativa que lo diferencie de cualquier otro <br>
        Cuando el antivirus detecta esa cadena, determina que hay infección<br>
        EICAR Anti Malware <a href="https://www.eicar.org/?page_id=3950">test file</a>: X5O!P%@AP[4\PZX54(P^)7CC)7}$EICAR-STANDARD-ANTIVIRUS-TEST-FILE!$H+H*

    </section>

    <section class="slide">
        <h2>Detección por cadena o firma</h2>
        Es la técnica más extendida entre los antivirus <br>
        Permite identificar el malware de forma concreta <br>
        No detecta nuevos virus ni modificaciones <br>
        Filosofía reactiva, requiere actualización continua <br>
        Si el virus se encripta, no se puede encontrar la cadena <br>
    </section>

    <section class="slide">
        <h2>Técnicas antivirus</h2>
        <b>Detección por localización y nombre de archivo</b>: Se buscan archivos concretos que generan los virus<br>
        Si existe ese fichero, el antivirus determina que hay infección<br>
        No detecta nuevos virus ni modificaciones<br>
        Filosofía reactiva, requiere actualización continua<br>
    </section>

    <section class="slide">
        <h2>Detección heurística</h2>
        Se analiza el código para buscar conjuntos de instrucciones y comportamientos habituales del malware <br>
        No necesita de actualizaciones tan constantes <br>
        Capacidad para detectar malware nuevo <br>
        Más propenso a falsos positivos <br>
        Penalización en el rendimiento en los análisis <br>
        No detecta malware con características nuevas <br>
    </section>


    <section class="slide">
        <h2>Detección por comportamiento</h2>
        En vez de analizar el código, comprueba las acciones que intentan llevar a cabo las aplicaciones, e identifican las que puedan ser potencialmente peligrosas.  <br>     
        No necesita de actualizaciones tan constantes <br>
        Capacidad para detectar malware nuevo <br>
        Más propenso a falsos positivos <br>
        Penalización en el rendimiento del sistema <br>
        No detecta malware con características nuevas <br>
    </section>

    <section class="slide">
    </section>
        <h2>Detección por emulación</h2>

    </section>

    <section class="slide">
        <h2></h2>

    </section>

    <section class="slide">
        <h2></h2>

    </section>

    <section class="slide">
        <h2></h2>

    </section>

    <section class="slide">
        <h2></h2>

    </section>

    <section class="slide">
        <h2></h2>

    </section>

    <section class="slide">
        <h2></h2>

    </section>

    <section class="slide">
        <h2></h2>

    </section>

    <section class="slide">
        <h2></h2>

    </section>

    <section class="slide">
        <h2></h2>

    </section>

    <section class="slide">
        <h2></h2>

    </section>

    <section class="slide">
        <h2></h2>

    </section>

    <section class="slide">
        <h2></h2>

    </section>

    <section class="slide">
        <h2></h2>

    </section>




    

    <!-- FOOTER -->

    <footer class="badge">
        <a href="https://github.com/mikel-egana-aranguren/EHU-SGSSI-01">Fork me on GitHub</a>
    </footer>

    <div class="progress"></div>

    <script src="../ShowerTemplate/shower/shower.js"></script>
    <!-- Copyright © 3000 Yours Truly, Famous Inc. -->

</body>
</html>
